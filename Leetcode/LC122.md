---

### Problem restated:
- You can do as many transactions as you like (unlimited).
- But you **cannot hold more than 1 stock at a time** → meaning you must sell before buying again.
- You are allowed to **buy and sell on the same day** → e.g., buy at `prices[i]` and sell at `prices[i]` in one step.

This is **Leetcode 122: Best Time to Buy and Sell Stock II**.

---

### How to translate rules into states:
- **hold** → max profit if you are currently holding a stock.
- **notHold** → max profit if you are not holding a stock.

Transitions per day:
1. If I want to **sell today** → I must have been holding before.
   ```
   notHold = max(notHold, hold + prices[i]);
   ```
   (profit comes from selling at today’s price)

2. If I want to **buy today** → I must have not been holding before.
   ```
   hold = max(hold, notHold - prices[i]);
   ```
   (profit decreases by today’s price)

---

### Why does "buy and sell on the same day" still work?
Because of the way we update states in sequence, the code effectively allows:
- Buy at `prices[i]` (updating `hold`), then
- Sell at `prices[i]` (updating `notHold`)  
  within the same iteration.

So yes — the math works out automatically.

---

### Code in Java
```java
class Solution {
    public int maxProfit(int[] prices) {
        int n = prices.length;
        if (n == 0) return 0;

        int hold = -prices[0];  // if we buy on day 0
        int notHold = 0;        // if we do nothing on day 0

        for (int i = 1; i < n; i++) {
            notHold = Math.max(notHold, hold + prices[i]); // sell today
            hold = Math.max(hold, notHold - prices[i]);    // buy today
        }

        return notHold; // must end without holding stock
    }
}
```

---

⚡️ That’s literally the direct translation:
- "may buy" → update `hold`
- "may sell" → update `notHold`
- "at most one share" → only 2 states (holding or not)
- "can buy/sell same day" → state updates let this happen in one loop.

---

Do you want me to **step through an example input** (like `[7,1,5,3,6,4]`) so you can *see* how "buy and sell on the same day" is represented in these variables?
